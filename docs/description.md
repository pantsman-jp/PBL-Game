# デモ版 説明資料

## 概要
PBL-Game は、大学構内および日本各地を舞台に、RPG とビジュアルノベル要素を組み合わせた学習・探究型ゲームです。
プレイヤーは NPC との会話やクイズ、アイテム収集を通してストーリーを進行し、
各地域のテーマ（構造系・制御系・通信・燃料・発射など）に関連する知識を体験的に学ぶことを目的としています。

## ゲームの基本構成
### 1. RPG パート（マップ探索）
- プレイヤーは `WASD` キーで移動し、`Z` キーで NPC と会話します
- マップはタイルベースで構成され、海・陸などの地形に応じて移動制限が設定されています
- マップ間の移動時には、アイリスイン・アウトによる遷移アニメーションが表示されます

### 2. ビジュアルノベルパート
- 特定の NPC やイベント地点でノベルパートに遷移します。
- 背景画像、立ち絵、テキストウィンドウを用いたストーリー表示を行います。
- 選択肢はボタン形式の GUI で表示され、マウスおよびキー操作に対応しています。

### 3. クイズ・報酬システム
- NPC との会話中にクイズが発生する場合があります。
- 正誤判定は専用ウィンドウに表示され、結果に応じてアイテムを獲得します。
- 同一アイテムの重複取得は防止される設計になっています。

## ストーリー進行（デモ版範囲）
### 開始地点
- 北九州
- プレイヤーには、次に向かうべき場所や NPC の座標が画面上部に表示されます。

### 現在の進行順
1. 九州工業大学
2. 指定 NPC との会話・クイズ
3. 次のマップへの移動イベント

この流れにより、ノベルパートとマップ探索が交互に発生し、ストーリーが段階的に展開します。

## マップ構成
デモ版では以下の地域マップが実装されています。

- 福岡県（開始地点）
- 山口県
- 愛知県
- 神奈川県
- 茨城県

各マップには対応する NPC が配置されており、会話やイベントを通じて次の地域へ移動する仕組みになっています。

## 操作方法

| 操作 | 内容 |
| :---: | :---: |
| `W` / `A` / `S` / `D` | プレイヤー移動 |
| `Z` | 会話・選択決定 |
| 矢印キー | クイズ・選択肢の移動 |
| `M` | マップ表示の切り替え |
| `I` | インベントリ開閉 |

マップ表示中は、移動および会話操作は無効化されます。

## 技術的特徴
### システム設計
- `Python` + `Pygame`
- タイルベース描画およびカリング処理による描画負荷の軽減
- データ駆動型設計（NPC、マップ、シナリオは JSON により管理）

### オーディオ
- マップごとに BGM を切り替える仕組みを実装
- OS ごとにミキサー初期化を制御し、無音バグを回避

### リソース管理
- PyInstaller 環境下でも正しく動作するパス解決ロジック
- 画像・音声・フォントの一元管理

## 使用素材と出典
[こちら](https://github.com/pantsman-jp/PBL-Game?tab=readme-ov-file#%E3%83%A9%E3%82%A4%E3%82%BB%E3%83%B3%E3%82%B9)
をご確認ください。

## 注意事項
- 一部のストーリーおよびイベントは未完成です
- 操作や表示に不具合が発生する場合があります